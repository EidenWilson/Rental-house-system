{% extends "layout.html" %}

{% block content %}
<div class="form-container">
    <h2>Edit Listing: {{ prop['title'] }}</h2>
    <p>Property ID: #{{ prop['property_id'] }}</p>
    <hr>
    
    <form method="POST" action="{{ url_for('edit_property', property_id=prop['property_id']) }}">
        
        <div class="form-group">
            <label for="title">Listing Title</label>
            <input type="text" name="title" value="{{ prop['title'] }}" required>
        </div>
        
        <div class="form-group">
            <label for="city">City</label>
            <input type="text" name="city" value="{{ prop['city'] }}" required>
        </div>
        
        <div class="form-group">
            <label for="price_per_night">Price (â‚¬ / Night)</label>
            <input type="number" step="0.01" name="price_per_night" value="{{ prop['price_per_night'] }}" required>
        </div>
        
        <div class="form-group">
            <label for="num_bedrooms">Number of Bedrooms</label>
            <input type="number" name="num_bedrooms" value="{{ prop['num_bedrooms'] }}" required>
        </div>
        
        <div class="form-group">
            <label for="image_url">Image URL</label>
            <input type="url" name="image_url" value="{{ prop['image_url'] }}" required>
            <p style="margin-top: 5px; font-size: 0.8em;"><a href="{{ prop['image_url'] }}" target="_blank">View Current Image</a></p>
        </div>
        
        <div class="form-group">
            <label for="description">Description</label>
            <textarea name="description" rows="5">{{ prop['description'] | default('') }}</textarea>
        </div>
        
        <button type="submit" class="btn btn-primary">Save Changes</button>
        <a href="{{ url_for('dashboard') }}" class="btn" style="background: #ccc; color: #333;">Cancel</a>

    </form>

</div>
{% endblock %}